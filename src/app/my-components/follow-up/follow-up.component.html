<app-header></app-header>

<div class="container-fluid">
    <div class="page_heading">
        <div class="row align-items-center">
            <div class="col-md-9">
                <div class="page_name">
                    <img src="assets/images/add-friend.png" alt="" loading="lazy">
                    <h1 class="page_top_heading mb-0">follow up info</h1>
                </div>
            </div>
            <div class="col-md-3 text-end">
                <div class="page_search">
                    <input type="text" class="search_form">
                    <button type="button" class="search_btn">
                        <span class="material-symbols-outlined">
                            search
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="main_body sec_gapping">
        <div class="info_div">
            <div class="page_info_heading">
                enquiry
            </div>

            <div class="my_form ">
                <div class="row">
                    <div class="col-sm-6 col-md-2">
                        <div class="form_select_div">
                            <label>sales incharge</label>
                            <p class="follow_txt">{{salesPersonName}}</p>
                        </div>
                    </div>
                    <div class="col-md-2" >
                        <div class="form_select_div">
                            <label>SI offer Ref. No. :</label>
                            <p class="follow_txt">{{reffNumber}}</p>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form_select_div">
                            <label>customer</label>
                            <p class="follow_txt">{{customerName}}</p>
                            <!-- <div class="form_select_div">
                                <select class="form-control" [(ngModel)]="customerId">
                                    <option value="" disabled>--choose customer--</option>
                                    <option *ngFor="let item of customerBySalespersonList" [value]="item.customer_id">{{
                                        item.customer }}</option>
                                </select>
                                <span class="material-symbols-outlined">
                                    stat_minus_1
                                </span>
                            </div> -->
                        </div>
                    </div>
                    <div class="col-sm-3 col-md-2">
                        <div class="form_select_div ">
                            <label>enquiry date</label>
                            <p class="follow_txt">{{enquiryDate}}</p>
                            <!-- <input type="date" class="form-control" [(ngModel)]="enquiryDate"> -->
                        </div>
                    </div>
                    <div class="col-sm-5 col-md-3">
                        <div class="">
                            <label>source of enquiry</label>
                            <p class="follow_txt">{{enquirySource}}</p>
                            <!-- <div class="form_select_div">
                                <select class="form-control" [(ngModel)]="enquirySourceId">
                                    <option>--choose enquiry
                                        <source>--
                                    </option>
                                    <option *ngFor="let item of enquirySourceList" [value]="item.enquiry_source_id">{{
                                        item.enquiry_source_name }}</option>
                                </select>
                                <span class="material-symbols-outlined">
                                    stat_minus_1
                                </span>
                            </div> -->
                        </div>
                    </div>
                    <div class="col-sm-4 col-md-3">
                        <div class="form_select_div">
                            <label>principal house</label>
                            <p class="follow_txt">{{principalHouse}}</p>
                            <!-- <input type="text" class="form-control" [(ngModel)]="principalHouse"> -->
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="">
                            <label>date of offer</label>
                            <p class="follow_txt">{{offerDate}}</p>
                            <!-- <input type="date" class="form-control" [(ngModel)]="offerDate"> -->
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form_select_div">
                            <label>basic value</label>
                            <p class="follow_txt">{{basicValue}}</p>
                            <!-- <input type="text" class="form-control" [(ngModel)]="basicValue"> -->
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="">
                            <label>Tentative Date of Finalisation</label>
                            <ng-container
                                *ngIf="tentativeFinalizationMonth && tentativeFinalizationYear; else noMonthAndYear">
                                <p class="follow_txt">{{tentativeFinalizationMonth}} / {{tentativeFinalizationYear}}</p>
                            </ng-container>
                            <ng-template #noMonthAndYear>
                                <p class="follow_txt"></p>
                            </ng-template>
                            <!-- <div class="d-flex">
                                <input type="text" class="form-control me-3" maxlength="2"
                                    (keypress)="restrictPhone($event)" [(ngModel)]="monthFinal" placeholder="MM">
                                <input type="text" class="form-control" maxlength="4" (keypress)="restrictPhone($event)"
                                    [(ngModel)]="yearFinal" placeholder="YYYY">
                            </div> -->
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-4">
                        <div class="">
                            <label>status</label>
                            <p class="follow_txt">{{statusInitial}}</p>
                            <!-- <input type="text" class="form-control" [(ngModel)]="enquiryStatus"> -->
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-4">
                        <div class="">
                            <label>remarks</label>
                            <p class="follow_txt">{{remarksInitial}}</p>
                            <!-- <input type="text" class="form-control" [(ngModel)]="enquiryRemarks"> -->
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-4">
                        <div class="">
                            <label>support required</label>
                            <p class="follow_txt">{{supportInitial}}</p>
                            <!-- <input type="text" class="form-control" [(ngModel)]="enquirySupport"> -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- new follow up  -->
            <div class="mt-5 mb-2">
                <button mat-flat-button class="btn1" (click)="showNewFollowUpForm()">
                    <span class="material-symbols-outlined">
                        add
                    </span>
                    new follow up
                </button>
            </div>
            <div class="follow_up_div" *ngIf="isCreateNew">
                <div class="follow_up_heading">
                    <div class="row">
                        <div class="col-6">
                            <h4>
                                new follow up
                            </h4>
                        </div>
                    </div>
                </div>
                <div class="my_form">
                    <div class="row  align-items-center">
                        <div class="col-lg-2">
                            <div class="form_select_div">
                                <label class="">status date</label>
                                <input type="date" class="form-control" [(ngModel)]="followUpDateCreate">
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="form_select_div">
                                <label class="">status</label>
                                <input type="text" class="form-control" [(ngModel)]="followUpStatusCreate">
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="form_select_div">
                                <label class="">remarks</label>
                                <input type="text" class="form-control" [(ngModel)]="followUpRemarksCreate">
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="form_select_div">
                                <label class="">support required</label>
                                <input type="text" class="form-control" [(ngModel)]="followUpSupportCreate">
                            </div>
                        </div>
                        <div class="col-lg-1">
                            <button mat-flat-button class="btn1" (click)="createFollowUp()">submit</button>
                        </div>
                    </div>
                </div>
            </div>


            <!-- first follow up  -->
           
            <div class="follow_up_div" *ngFor="let item of followUpList; let i = index">
                <div class="follow_up_heading">
                    <div class="row">
                        <div class="col-6">
                            <h4>follow up - {{ i+1 }} </h4>
                        </div>
                    </div>
                </div>

                <div class="my_form">
                    <div class="row  align-items-center">
                        <div class="col-lg-3">
                            <div class="form_select_div">
                                <label class="">status date</label>
                                <input type="date" class="form-control" [value]="item.status_date">
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="form_select_div">
                                <label class="">status</label>
                                <input type="text" class="form-control" [value]="item.status">
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="form_select_div">
                                <label class="">remarks</label>
                                <input type="text" class="form-control" [value]="item.remarks">
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="form_select_div">
                                <label class="">support required</label>
                                <input type="text" class="form-control" [value]="item.support">
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>

        <!-- <div class="text-center mt-3">
            <button mat-flat-button class="btn1" (click)="createEnquiry()">submit</button>
        </div> -->
    </div>


    <button class="btn1" style="display: flex;align-items: center;" routerLink="/enquiries">
        <span class="material-symbols-outlined" style="font-size: 20px;">arrow_back_ios</span>
        back
    </button>

</div>